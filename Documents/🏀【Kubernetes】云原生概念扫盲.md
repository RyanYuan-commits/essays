>[!tips] 一句话
> 云原生是一种利用云计算平台的特性和优势，以容器、服务网格、微服务、不可变基础设施和声明式 API 等技术为基础，构建和管理可在云环境及内部部署环境中弹性扩展、高度可用的应用程序的理念和实践。
### 1 概念扫盲
1. 容器：承载服务运行的外部环境，Docker 是应用最为广泛的容器引擎，在思科谷歌等公司的基础设施中大量使用，K8S是容器编排系统，用于容器管理，容器间的负载均衡。
2. 服务网格：是一种用于在微服务架构中 **管理和协调** 服务之间通信的基础设施层，主要负责处理服务之间的网络通信、流量管理、服务发现、认证授权、监控和故障处理等功能，旨在让微服务之间的通信更加可靠、高效和易于管理，将这些复杂的通信逻辑从业务应用中分离出来，形成一个独立的底层架构。服务网格通常以代理的形式部署在每个服务节点上，这些代理充当服务之间通信的中间层，拦截和处理所有的服务间请求和响应。代理之间通过内部的通信网络进行交互，实现流量管理、故障处理等功能，而对服务本身的代码和业务逻辑是透明的。
3. 分布式：是一种系统架构设计理念，将一个大型系统拆分成多个子系统，这些子系统分布在不同的服务器上运行，通过网络进行通信和协作，以完成整个系统的功能，目的是提高系统的可扩展性、可靠性和性能。
4. 微服务：基于分布式架构的软件架构风格，它将一个大型的单体应用拆分成多个小型的、独立的服务，几乎每个云原生的定义都包含微服务，与微服务相对的是单体应用；微服务有理论基础，那就是康威定律，指导服务怎么切分；微服务架构是分布式架构的一种具体实现方式，更强调服务的独立性、自治性和可扩展性，每个微服务可以独立开发、测试、部署和扩展，有助于提高开发效率和系统的灵活性。
5. 不可变基础设施：对于基础设施的不可变性，最基本的理解的就是，运行这些服务的服务器在完成部署后，就不再进行修改。一句话来说，不可变基础设施其实就是生产环境下基础设施不能改动，如果改动，一切都是被记录的，是可以回溯的。
6. 声明式 API：声明式 API 主要侧重于描述 “是什么” 和 “要达到的状态”，而不关心具体的实现细节和步骤。它就像是提供了一个目标或规则，让系统或服务去自动确定如何实现这个目标，而不是详细地指定每一个操作的过程。比如在配置一个数据库集群时，只指定集群的规模、配置等要求，而不规定具体的创建和配置步骤。
### 2 SpringCloud 对比
#### 2.1 SpringCloud 存在的问题
1. SpringCloud 是一种侵入式的框架，需要在代码里加上 Spring Cloud 的 Maven 依赖，加上 Spring Cloud 的组件注解，写配置，打包的时候还必须要和非业务代码融合在一起
2. SpringCloud 仅作用于 Java 服务，不支持不同语言的服务接入；
3. Spring Cloud 学习成本较高。
#### 2.2 解决方案
本质是要解决服务通信的问题（服务发现、负载均衡、版本控制等），且不应该将非业务代码融合到业务代码中，从客户端发出的请求，要能够顺利到达对应的服务，这中间的网络通信和业务代码尽量无关。
**SideCar 旁车模式**：将应用功能从应用本身剥离出来作为单独进程的方式。
![[SideCar 旁车模式.png]]
服务业务代码与 SideCar 绑定在一起，每一个服务配置了一个 SideCar 代理。
SideCar 帮我们屏蔽了通信的细节，我的业务开发人员只需要关注业务就行了，而通信的事情交给 SideCar 处理 SideCar 是为了通用基础设施而设计，可以做到与公司框架技术无侵入性。
该模式允许我们向应用无侵入添加多种功能，避免了为满足第三方组件需求而向应用添加额外的配置代码。