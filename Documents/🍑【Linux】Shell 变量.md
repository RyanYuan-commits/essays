## 1 Shell 变量介绍
### 1.1 Shell 编程中一般分为三种变量
1. **我们自己定义的变量（自定义变量）:** 仅在当前 Shell 实例中有效，其他 Shell 启动的程序不能访问局部变量。
2. **Linux 已定义的环境变量**（环境变量， 例如：`PATH`, ​`HOME` 等..., 这类变量我们可以直接使用），使用 `env` 命令可以查看所有的环境变量，而 set 命令既可以查看环境变量也可以查看自定义变量。
3. **Shell 变量**：Shell 变量是由 Shell 程序设置的特殊变量。Shell 变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了 Shell 的正常运行
### 1.2 常用的系统环境变量
```bash
env # 用于显示当前环境变量
set # 显示当前 shell 中所有已定义的变量，包括环境变量和用户自定义变量
```
- **PATH**：与 Windows 环境变量 PATH 功能一样，设置命令的搜索路径，以冒号为分割。
- **HOME**：当前用户主目录，值为 `/root` 。
- **SHELL**：当前 shell 解析器类型，值为 `/bin/bash` 。
- **HISTFILE**：显示当前用户执行命令的历史列表文件，值为 `/root/.bash_history` 。
- **PWD**：显示当前所在路径，值为 `/root` 。
- **OLDPWD**：显示之前的路径。
- **HOSTNAME**：显示当前主机名，值为 `iZ2ze3yq0kzs20azx7d2i9Z` 。
- **HOSTTYPE**：显示主机的架构，如 i386、i686、x86、x64 等，值为 `x86_64` 。
- **LANG**：设置当前系统语言环境，值为 `zh_CN.UTF-8` 。
## 2 Shell 字符串
### 2.1 介绍
字符串是 shell 编程中最常用最有用的数据类型，字符串可以用单引号，也可以用双引号：
- 在单引号中所有的特殊符号，如 `$` 和反引号都没有特殊含义。
- 在双引号中，`"$"`、`"\"`、反引号和感叹号（需开启 `history expansion`）有特殊含义
### 2.2 常见操作
#### **拼接字符串**
```sh
#!/bin/bash
name="SnailClimb"
# 使用双引号拼接
greeting="hello, "$name" !"
greeting_1="hello, ${name} !"
echo $greeting  $greeting_1
# 使用单引号拼接
greeting_2='hello, '$name' !'
greeting_3='hello, ${name} !'
echo $greeting_2  $greeting_3
```
#### **获取字符串长度**
```sh
#!/bin/bash
#获取字符串长度
name="SnailClimb"
# 第一种方式
echo ${#name} #输出 10
# 第二种方式
expr length "$name";
```
#### **截取字符串**
```sh
#从字符串第 1 个字符开始往后截取 10 个字符
str="SnailClimb is a great man"
echo ${str:0:10} #输出:SnailClimb
```

## 1 环境变量
是系统提供的 **共享** 变量，是 Linux 系统加载 Shell 的配置文件中定义的变量共享给所有的 Shell 程序使用；
### 1.1 分类
全局配置文件：
```
/etc/profile
/etc/profile.d/*.s
/etc/bashrc
```
个人配置文件：
```
当前用户/bash_profile
当前用户/.bashrc
```
## 2 自定义变量
分为自定义局部变量、自定义常量和自定义全部变量
### 2.1 自定义局部变量
定义在一个脚本文件中对变量，只能够在这个脚本中那种使用的变量
```sh
# 变量的定义
var_name=value

# 变量的获取
echo my name is $name # my name is ryan
echo my name is ${name}123 # my name is ryan123

# 变量的删除
unset [变量名]
```
### 2.2 自定义常量
设置值以后不能修改对变量叫做常量，也叫只读变量
```sh
readonly [常量名]
```
### 2.3 自定义全局变量
例如有两个 Shell 脚本文件，在 `a.sh` 中执行了 `b.sh` 文件，那么 `a.sh` 就是父 Shell 环境，`b.sh` 就是子 Shell 环境，自定义全局变量可以在当前 Shell 环境和子 Shell 环境中 **都能使用**。
```sh
export [变量名]=[value]
```
## 3 特殊变量

|  特殊变量   | 含义                                                                                                  |
| :-----: | --------------------------------------------------------------------------------------------------- |
|   $n    | 获取输入参数：<br>-  $0，获取当前Shell脚本文件名字 ；<br> - $1~$9，获取第一个输入参数到第九个输入参数 ；<br> - ${10} 获取10和10以上的参数需要使用花括号。 |
|   $#    | 获取所有输入参数的个数。                                                                                        |
| $* 与 $@ | 获取所有输入参数<br>- 如果不使用双引号，功能一样， 获取所有参数数据为一个字符串；<br>- 如果使用了双引号， $@ 获取的就是参数列表对象，每个参数都是一个独立字符串。           |
|   $?    | 获取上一个命令的退出状态码，一般 0 代表命令成功，非0 代表执行失败。                                                                |
|   $$    | 获取当前shell环境进程的ID号。                                                                                  |
